<section class="contact-section">
    <form class="form-style-7" netlify>
        <ul>
            <li>
                <label for="name">Name</label>
                <input type="text" name="name" maxlength="100">
            </li>
            <li>
                <label for="email">Email</label>
                <input type="email" name="email" maxlength="100">
            </li>
            <li>
                <label for="phone">Phone</label>
                <input type="text" name="phone">
            </li>
            <li>
                <label for="topic">Message</label>
                <textarea id="topic" rows="10" cols="70" name="topic"></textarea>
            </li>
            <div class="msg-error error align-left"></div>
            <div id="recaptcha" class="g-recaptcha" data-sitekey="6LdruXEUAAAAABEs3QMDpJYaIa27eQOZCkeygyK9"></div>
        </ul>
    </form>
    <button id="btn-validate">Submit</button>
</section>

<script>
    $('#btn-validate').click(function(){
        var $captcha = $( '#recaptcha' ),
            response = grecaptcha.getResponse();
        
        if (response.length === 0) {
            $( '.msg-error').text( "reCAPTCHA is mandatory" );
            if( !$captcha.hasClass( "error" ) ){
                $captcha.addClass( "error" );
            }
        } else {
            $( '.msg-error' ).text('');
            $captcha.removeClass( "error" );
            $("form").submit();
        }
    })
</script>
